version: '3.8'

services:
  gemini-co-cli:
    build: .
    ports:
      - "3000:3000"
    environment:
      - RUST_LOG=gemini_co_cli=debug,tower_http=debug
    restart: unless-stopped
    volumes:
      - ./static:/app/static:ro
      # Mount Gemini CLI config directory for persistent auth
      # Run 'docker-compose run gemini-co-cli gemini auth login' first to authenticate
      - gemini-config:/root/.config/google-generativeai

volumes:
  gemini-config:
