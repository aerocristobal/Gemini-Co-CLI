version: '3.8'

services:
  gemini-co-cli:
    build: .
    ports:
      - "3000:3000"
    environment:
      - RUST_LOG=gemini_co_cli=debug,tower_http=debug
      # Option 1: Use API key (uncomment and set your key)
      # Get key from: https://aistudio.google.com/apikey
      # - GEMINI_API_KEY=${GEMINI_API_KEY}
      # Option 2: Use Google OAuth (default - requires interactive login first)
    restart: unless-stopped
    volumes:
      - ./static:/app/static:ro
      # Mount Gemini CLI config directory for persistent auth
      # OAuth credentials are stored here after running 'gemini' interactively
      - gemini-config:/root/.config/@google/generative-ai-cli

volumes:
  gemini-config:
